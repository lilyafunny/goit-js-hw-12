{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function createMarkup(arr) {\n    return arr.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) =>\n        `\n        <li class = \"list-foto\">\n        <div class=\"container\">\n        <a class=\"foto-link\" href=\"${largeImageURL}\">\n            <img width=\"360px\" height=\"200px\" class=\"foto\" src=\"${webformatURL}\" alt=\"${tags}\">\n        </a>\n        <div class=\"text-overlay\">\n        <div class=\"overlay-list likes\"> \n            <h3 class=\"likes-text\">Likes</h3>\n            <p class=\"likes-text\">${likes}</p>\n        </div>\n        <div class=\"overlay-list views\"> \n            <h3 class=\"views-text\">Views</h3>\n            <p class=\"views-text\">${views}</p>\n        </div>\n        <div class=\"overlay-list comments\"> \n            <h3 class=\"comments-text\">Comments</h3>\n            <p class=\"comments-text\">${comments}</p>\n        </div>\n        <div class=\"overlay-list downloads\"> \n            <h3 class=\"downloads-text\">Downloads</h3>\n            <p class=\"downloads-text\">${downloads}</p>\n        </div>\n        </div>    \n        </div>\n        </li>\n\n    `\n    ).join(\"\");\n}","import axios from \"axios\";\n\n\nconst API_KEY = \"47015926-a75abbcadb56cf8cc5bf9ef48\";\n\n\nexport async function fetchData(foto = \"\") {\n\n    const params = new URLSearchParams({\n\n        key: API_KEY,\n        q: foto,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: \"true\"\n\n    });\n\n    return await axios(`https://pixabay.com/api/?${params}`)\n\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { createMarkup } from './js/render-functions.js'\nimport { fetchData } from './js/pixabay-api.js'\n\nconst formEl = document.querySelector(\".js-search-form\");\nconst listEl = document.querySelector(\".gallery\");\nconst loadingEl = document.querySelector(\".loader\");\n\nformEl.addEventListener(\"submit\", handlSearch);\n\n\n\nfunction sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n}\n\nasync function handlSearch(event) {\n    event.preventDefault();\n    const { foto } = event.currentTarget.elements;\n\n    if (foto.value.trim() == \"\") {\n        iziToast.error({\n            message: 'Please enter text to search.',\n            position: 'topRight'\n        });\n        return;\n    }\n\n    listEl.innerHTML = '';\n\n    showLoading();\n    await sleep(1000);\n\n    fetchData(foto.value)\n        .then(data => {\n\n            if (data.hits.length == 0) {\n                iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topRight'\n                });\n            } else {\n                listEl.innerHTML = createMarkup(data.hits);\n                lightbox.refresh();\n            }\n        })\n        .catch(error => {\n            console.log(\"error\", error);\n        })\n        .finally(() => {\n            hideLoading();\n        });\n\n\n    formEl.reset();\n}\n\nlet lightbox = new SimpleLightbox('.gallery a');\n\nfunction showLoading() {\n    loadingEl.style.display = 'block';\n}\n\nfunction hideLoading() {\n    loadingEl.style.display = 'none';\n}"],"names":["createMarkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","API_KEY","fetchData","foto","params","axios","formEl","listEl","loadingEl","handlSearch","sleep","ms","resolve","event","iziToast","showLoading","data","lightbox","error","hideLoading","SimpleLightbox"],"mappings":"owBAAO,SAASA,EAAaC,EAAK,CAC9B,OAAOA,EAAI,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IACpF;AAAA;AAAA;AAAA,qCAG6BL,CAAa;AAAA,kEACgBD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,oCAKxDC,CAAK;AAAA;AAAA;AAAA;AAAA,oCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,uCAIFC,CAAQ;AAAA;AAAA;AAAA;AAAA,wCAIPC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOjD,EAAM,KAAK,EAAE,CACb,CC5BA,MAAMC,EAAU,qCAGT,eAAeC,EAAUC,EAAO,GAAI,CAEvC,MAAMC,EAAS,IAAI,gBAAgB,CAE/B,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAEpB,CAAK,EAED,OAAO,MAAME,EAAM,4BAA4BD,CAAM,EAAE,CAE3D,CCXA,MAAME,EAAS,SAAS,cAAc,iBAAiB,EACjDC,EAAS,SAAS,cAAc,UAAU,EAC1CC,EAAY,SAAS,cAAc,SAAS,EAElDF,EAAO,iBAAiB,SAAUG,CAAW,EAI7C,SAASC,EAAMC,EAAI,CACf,OAAO,IAAI,QAAQC,GAAW,WAAWA,EAASD,CAAE,CAAC,CACzD,CAEA,eAAeF,EAAYI,EAAO,CAC9BA,EAAM,eAAc,EACpB,KAAM,CAAE,KAAAV,CAAM,EAAGU,EAAM,cAAc,SAErC,GAAIV,EAAK,MAAM,KAAI,GAAM,GAAI,CACzBW,EAAS,MAAM,CACX,QAAS,+BACT,SAAU,UACtB,CAAS,EACD,MACH,CAEDP,EAAO,UAAY,GAEnBQ,IACA,MAAML,EAAM,GAAI,EAEhBR,EAAUC,EAAK,KAAK,EACf,KAAKa,GAAQ,CAENA,EAAK,KAAK,QAAU,EACpBF,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UAC9B,CAAiB,GAEDP,EAAO,UAAYf,EAAawB,EAAK,IAAI,EACzCC,EAAS,QAAO,EAEhC,CAAS,EACA,MAAMC,GAAS,CACZ,QAAQ,IAAI,QAASA,CAAK,CACtC,CAAS,EACA,QAAQ,IAAM,CACXC,GACZ,CAAS,EAGLb,EAAO,MAAK,CAChB,CAEA,IAAIW,EAAW,IAAIG,EAAe,YAAY,EAE9C,SAASL,GAAc,CACnBP,EAAU,MAAM,QAAU,OAC9B,CAEA,SAASW,GAAc,CACnBX,EAAU,MAAM,QAAU,MAC9B"}